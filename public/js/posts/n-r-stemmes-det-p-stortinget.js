// hello

(function () {
    var allData = [{"date":"2009-10-12","vote_count":"2","rebel_count":"2"},{"date":"2009-11-17","vote_count":"1","rebel_count":"1"},{"date":"2009-11-25","vote_count":"7","rebel_count":"12"},{"date":"2009-12-03","vote_count":"3","rebel_count":"7"},{"date":"2009-12-07","vote_count":"1","rebel_count":"2"},{"date":"2009-12-08","vote_count":"25","rebel_count":"27"},{"date":"2009-12-09","vote_count":"9","rebel_count":"10"},{"date":"2009-12-10","vote_count":"5","rebel_count":"6"},{"date":"2009-12-14","vote_count":"3","rebel_count":"4"},{"date":"2009-12-15","vote_count":"2","rebel_count":"2"},{"date":"2009-12-17","vote_count":"2","rebel_count":"3"},{"date":"2010-02-04","vote_count":"2","rebel_count":"4"},{"date":"2010-02-11","vote_count":"8","rebel_count":"12"},{"date":"2010-02-18","vote_count":"5","rebel_count":"10"},{"date":"2010-03-02","vote_count":"6","rebel_count":"14"},{"date":"2010-03-05","vote_count":"7","rebel_count":"7"},{"date":"2010-03-09","vote_count":"6","rebel_count":"32"},{"date":"2010-03-11","vote_count":"5","rebel_count":"9"},{"date":"2010-03-18","vote_count":"1","rebel_count":"4"},{"date":"2010-03-19","vote_count":"8","rebel_count":"10"},{"date":"2010-03-22","vote_count":"2","rebel_count":"3"},{"date":"2010-03-23","vote_count":"7","rebel_count":"23"},{"date":"2010-03-25","vote_count":"10","rebel_count":"12"},{"date":"2010-04-19","vote_count":"4","rebel_count":"4"},{"date":"2010-04-20","vote_count":"5","rebel_count":"22"},{"date":"2010-04-27","vote_count":"1","rebel_count":"1"},{"date":"2010-04-29","vote_count":"4","rebel_count":"10"},{"date":"2010-05-04","vote_count":"7","rebel_count":"10"},{"date":"2010-05-06","vote_count":"1","rebel_count":"1"},{"date":"2010-05-10","vote_count":"5","rebel_count":"23"},{"date":"2010-05-11","vote_count":"10","rebel_count":"19"},{"date":"2010-05-25","vote_count":"6","rebel_count":"11"},{"date":"2010-05-27","vote_count":"12","rebel_count":"24"},{"date":"2010-06-03","vote_count":"2","rebel_count":"2"},{"date":"2010-06-07","vote_count":"10","rebel_count":"12"},{"date":"2010-06-08","vote_count":"3","rebel_count":"3"},{"date":"2010-06-09","vote_count":"2","rebel_count":"2"},{"date":"2010-06-10","vote_count":"18","rebel_count":"29"},{"date":"2010-06-11","vote_count":"3","rebel_count":"6"},{"date":"2010-06-14","vote_count":"8","rebel_count":"17"},{"date":"2010-06-15","vote_count":"13","rebel_count":"32"},{"date":"2010-06-16","vote_count":"4","rebel_count":"7"},{"date":"2010-06-17","vote_count":"9","rebel_count":"11"},{"date":"2010-06-18","vote_count":"9","rebel_count":"14"},{"date":"2010-10-04","vote_count":"3","rebel_count":"4"},{"date":"2010-10-28","vote_count":"5","rebel_count":"12"},{"date":"2010-10-29","vote_count":"5","rebel_count":"5"},{"date":"2010-11-11","vote_count":"3","rebel_count":"15"},{"date":"2010-11-12","vote_count":"2","rebel_count":"6"},{"date":"2010-11-18","vote_count":"1","rebel_count":"1"},{"date":"2010-11-19","vote_count":"3","rebel_count":"5"},{"date":"2010-11-23","vote_count":"4","rebel_count":"8"},{"date":"2010-11-26","vote_count":"4","rebel_count":"5"},{"date":"2010-11-30","vote_count":"3","rebel_count":"5"},{"date":"2010-12-02","vote_count":"7","rebel_count":"10"},{"date":"2010-12-03","vote_count":"1","rebel_count":"1"},{"date":"2010-12-06","vote_count":"3","rebel_count":"4"},{"date":"2010-12-07","vote_count":"4","rebel_count":"5"},{"date":"2010-12-08","vote_count":"5","rebel_count":"9"},{"date":"2010-12-09","vote_count":"6","rebel_count":"7"},{"date":"2010-12-10","vote_count":"3","rebel_count":"3"},{"date":"2010-12-13","vote_count":"9","rebel_count":"19"},{"date":"2010-12-14","vote_count":"3","rebel_count":"5"},{"date":"2010-12-15","vote_count":"4","rebel_count":"5"},{"date":"2010-12-16","vote_count":"6","rebel_count":"8"},{"date":"2010-12-17","vote_count":"5","rebel_count":"8"},{"date":"2011-02-01","vote_count":"2","rebel_count":"8"},{"date":"2011-02-08","vote_count":"2","rebel_count":"2"},{"date":"2011-02-10","vote_count":"4","rebel_count":"12"},{"date":"2011-02-15","vote_count":"1","rebel_count":"2"},{"date":"2011-02-22","vote_count":"3","rebel_count":"6"},{"date":"2011-02-24","vote_count":"7","rebel_count":"10"},{"date":"2011-03-10","vote_count":"7","rebel_count":"21"},{"date":"2011-03-14","vote_count":"5","rebel_count":"6"},{"date":"2011-03-15","vote_count":"4","rebel_count":"8"},{"date":"2011-03-21","vote_count":"1","rebel_count":"1"},{"date":"2011-03-22","vote_count":"3","rebel_count":"3"},{"date":"2011-03-28","vote_count":"1","rebel_count":"1"},{"date":"2011-04-04","vote_count":"6","rebel_count":"29"},{"date":"2011-04-05","vote_count":"9","rebel_count":"14"},{"date":"2011-04-11","vote_count":"4","rebel_count":"9"},{"date":"2011-04-12","vote_count":"7","rebel_count":"20"},{"date":"2011-04-14","vote_count":"16","rebel_count":"28"},{"date":"2011-04-26","vote_count":"8","rebel_count":"16"},{"date":"2011-05-02","vote_count":"7","rebel_count":"7"},{"date":"2011-05-19","vote_count":"3","rebel_count":"5"},{"date":"2011-05-23","vote_count":"6","rebel_count":"7"},{"date":"2011-05-26","vote_count":"1","rebel_count":"1"},{"date":"2011-05-30","vote_count":"2","rebel_count":"2"},{"date":"2011-05-31","vote_count":"5","rebel_count":"13"},{"date":"2011-06-06","vote_count":"3","rebel_count":"6"},{"date":"2011-06-07","vote_count":"6","rebel_count":"8"},{"date":"2011-06-08","vote_count":"9","rebel_count":"20"},{"date":"2011-06-09","vote_count":"8","rebel_count":"12"},{"date":"2011-06-14","vote_count":"13","rebel_count":"24"},{"date":"2011-06-15","vote_count":"10","rebel_count":"12"},{"date":"2011-06-16","vote_count":"10","rebel_count":"14"},{"date":"2011-06-17","vote_count":"11","rebel_count":"21"},{"date":"2011-11-10","vote_count":"3","rebel_count":"4"},{"date":"2011-11-11","vote_count":"2","rebel_count":"2"},{"date":"2011-11-18","vote_count":"1","rebel_count":"2"},{"date":"2011-11-25","vote_count":"7","rebel_count":"12"},{"date":"2011-11-28","vote_count":"3","rebel_count":"4"},{"date":"2011-11-29","vote_count":"2","rebel_count":"2"},{"date":"2011-12-01","vote_count":"6","rebel_count":"9"},{"date":"2011-12-02","vote_count":"2","rebel_count":"4"},{"date":"2011-12-05","vote_count":"2","rebel_count":"3"},{"date":"2011-12-06","vote_count":"4","rebel_count":"4"},{"date":"2011-12-07","vote_count":"1","rebel_count":"2"},{"date":"2011-12-08","vote_count":"2","rebel_count":"2"},{"date":"2011-12-09","vote_count":"2","rebel_count":"2"},{"date":"2011-12-12","vote_count":"6","rebel_count":"8"},{"date":"2011-12-13","vote_count":"4","rebel_count":"4"},{"date":"2011-12-14","vote_count":"3","rebel_count":"6"},{"date":"2011-12-15","vote_count":"7","rebel_count":"17"},{"date":"2011-12-16","vote_count":"5","rebel_count":"7"},{"date":"2011-12-19","vote_count":"1","rebel_count":"1"},{"date":"2011-12-20","vote_count":"5","rebel_count":"5"},{"date":"2012-01-10","vote_count":"2","rebel_count":"4"},{"date":"2012-01-12","vote_count":"1","rebel_count":"1"},{"date":"2012-01-31","vote_count":"5","rebel_count":"5"},{"date":"2012-02-07","vote_count":"5","rebel_count":"54"},{"date":"2012-02-16","vote_count":"3","rebel_count":"6"},{"date":"2012-02-28","vote_count":"2","rebel_count":"2"},{"date":"2012-03-01","vote_count":"9","rebel_count":"10"},{"date":"2012-03-08","vote_count":"2","rebel_count":"3"},{"date":"2012-03-19","vote_count":"3","rebel_count":"7"},{"date":"2012-03-20","vote_count":"8","rebel_count":"11"},{"date":"2012-03-22","vote_count":"6","rebel_count":"9"},{"date":"2012-03-26","vote_count":"2","rebel_count":"2"},{"date":"2012-03-29","vote_count":"2","rebel_count":"4"},{"date":"2012-04-12","vote_count":"2","rebel_count":"3"},{"date":"2012-04-16","vote_count":"1","rebel_count":"4"},{"date":"2012-05-03","vote_count":"9","rebel_count":"16"},{"date":"2012-05-07","vote_count":"4","rebel_count":"12"},{"date":"2012-05-08","vote_count":"2","rebel_count":"3"},{"date":"2012-05-10","vote_count":"7","rebel_count":"10"},{"date":"2012-05-15","vote_count":"6","rebel_count":"11"},{"date":"2012-05-21","vote_count":"5","rebel_count":"7"},{"date":"2012-05-22","vote_count":"1","rebel_count":"1"},{"date":"2012-05-24","vote_count":"3","rebel_count":"4"},{"date":"2012-05-29","vote_count":"2","rebel_count":"2"},{"date":"2012-05-31","vote_count":"9","rebel_count":"14"},{"date":"2012-06-04","vote_count":"10","rebel_count":"27"},{"date":"2012-06-05","vote_count":"3","rebel_count":"4"},{"date":"2012-06-07","vote_count":"7","rebel_count":"8"},{"date":"2012-06-11","vote_count":"6","rebel_count":"13"},{"date":"2012-06-12","vote_count":"12","rebel_count":"17"},{"date":"2012-06-13","vote_count":"6","rebel_count":"6"},{"date":"2012-06-14","vote_count":"12","rebel_count":"23"},{"date":"2012-06-15","vote_count":"3","rebel_count":"3"},{"date":"2012-10-05","vote_count":"2","rebel_count":"2"},{"date":"2012-10-11","vote_count":"1","rebel_count":"1"},{"date":"2012-10-16","vote_count":"2","rebel_count":"2"},{"date":"2012-10-25","vote_count":"5","rebel_count":"8"},{"date":"2012-11-08","vote_count":"3","rebel_count":"7"},{"date":"2012-11-15","vote_count":"2","rebel_count":"2"},{"date":"2012-11-20","vote_count":"6","rebel_count":"6"},{"date":"2012-11-22","vote_count":"1","rebel_count":"1"},{"date":"2012-11-27","vote_count":"3","rebel_count":"3"},{"date":"2012-11-29","vote_count":"5","rebel_count":"7"},{"date":"2012-11-30","vote_count":"3","rebel_count":"4"},{"date":"2012-12-04","vote_count":"4","rebel_count":"4"},{"date":"2012-12-05","vote_count":"1","rebel_count":"1"},{"date":"2012-12-06","vote_count":"14","rebel_count":"28"},{"date":"2012-12-07","vote_count":"3","rebel_count":"5"},{"date":"2012-12-10","vote_count":"7","rebel_count":"9"},{"date":"2012-12-11","vote_count":"3","rebel_count":"3"},{"date":"2012-12-12","vote_count":"4","rebel_count":"6"},{"date":"2012-12-13","vote_count":"5","rebel_count":"8"},{"date":"2012-12-14","vote_count":"1","rebel_count":"1"},{"date":"2012-12-17","vote_count":"7","rebel_count":"16"},{"date":"2012-12-18","vote_count":"4","rebel_count":"6"},{"date":"2013-01-22","vote_count":"9","rebel_count":"12"},{"date":"2013-02-07","vote_count":"2","rebel_count":"2"},{"date":"2013-02-12","vote_count":"11","rebel_count":"32"},{"date":"2013-02-19","vote_count":"10","rebel_count":"16"},{"date":"2013-03-07","vote_count":"2","rebel_count":"5"},{"date":"2013-03-18","vote_count":"1","rebel_count":"1"},{"date":"2013-03-19","vote_count":"8","rebel_count":"31"},{"date":"2013-03-21","vote_count":"12","rebel_count":"17"},{"date":"2013-04-02","vote_count":"1","rebel_count":"1"},{"date":"2013-04-04","vote_count":"1","rebel_count":"1"},{"date":"2013-04-16","vote_count":"4","rebel_count":"6"},{"date":"2013-04-23","vote_count":"7","rebel_count":"12"},{"date":"2013-04-29","vote_count":"4","rebel_count":"8"},{"date":"2013-04-30","vote_count":"1","rebel_count":"2"},{"date":"2013-05-07","vote_count":"2","rebel_count":"2"},{"date":"2013-05-14","vote_count":"1","rebel_count":"3"},{"date":"2013-05-21","vote_count":"2","rebel_count":"2"},{"date":"2013-05-27","vote_count":"15","rebel_count":"20"},{"date":"2013-05-28","vote_count":"6","rebel_count":"8"},{"date":"2013-05-30","vote_count":"3","rebel_count":"4"},{"date":"2013-06-03","vote_count":"5","rebel_count":"7"},{"date":"2013-06-04","vote_count":"13","rebel_count":"14"},{"date":"2013-06-06","vote_count":"12","rebel_count":"14"},{"date":"2013-06-07","vote_count":"2","rebel_count":"5"},{"date":"2013-06-10","vote_count":"25","rebel_count":"38"},{"date":"2013-06-13","vote_count":"12","rebel_count":"20"},{"date":"2013-06-14","vote_count":"4","rebel_count":"4"},{"date":"2013-06-17","vote_count":"17","rebel_count":"20"},{"date":"2013-06-18","vote_count":"10","rebel_count":"12"},{"date":"2013-06-19","vote_count":"13","rebel_count":"14"},{"date":"2013-06-20","vote_count":"17","rebel_count":"31"},{"date":"2013-06-21","vote_count":"4","rebel_count":"5"},{"date":"2013-11-26","vote_count":"1","rebel_count":"1"},{"date":"2013-12-04","vote_count":"1","rebel_count":"1"},{"date":"2013-12-05","vote_count":"3","rebel_count":"3"},{"date":"2013-12-06","vote_count":"1","rebel_count":"2"},{"date":"2013-12-09","vote_count":"1","rebel_count":"2"},{"date":"2013-12-10","vote_count":"2","rebel_count":"3"},{"date":"2013-12-12","vote_count":"2","rebel_count":"6"},{"date":"2013-12-13","vote_count":"1","rebel_count":"1"},{"date":"2013-12-19","vote_count":"2","rebel_count":"4"},{"date":"2014-02-25","vote_count":"1","rebel_count":"2"},{"date":"2014-02-27","vote_count":"2","rebel_count":"5"},{"date":"2014-03-18","vote_count":"1","rebel_count":"1"},{"date":"2014-03-25","vote_count":"1","rebel_count":"2"},{"date":"2014-04-10","vote_count":"1","rebel_count":"1"},{"date":"2014-04-24","vote_count":"1","rebel_count":"3"},{"date":"2014-05-06","vote_count":"5","rebel_count":"12"},{"date":"2014-05-08","vote_count":"1","rebel_count":"1"},{"date":"2014-05-13","vote_count":"17","rebel_count":"30"},{"date":"2014-05-20","vote_count":"1","rebel_count":"1"},{"date":"2014-05-22","vote_count":"2","rebel_count":"2"},{"date":"2014-05-27","vote_count":"2","rebel_count":"3"},{"date":"2014-06-03","vote_count":"2","rebel_count":"2"},{"date":"2014-06-05","vote_count":"3","rebel_count":"4"},{"date":"2014-06-10","vote_count":"4","rebel_count":"4"},{"date":"2014-06-12","vote_count":"6","rebel_count":"15"},{"date":"2014-06-13","vote_count":"2","rebel_count":"3"},{"date":"2014-06-16","vote_count":"9","rebel_count":"11"},{"date":"2014-06-17","vote_count":"1","rebel_count":"1"},{"date":"2014-06-18","vote_count":"4","rebel_count":"6"},{"date":"2014-06-19","vote_count":"5","rebel_count":"8"},{"date":"2014-06-20","vote_count":"2","rebel_count":"2"},{"date":"2014-11-11","vote_count":"1","rebel_count":"1"},{"date":"2014-11-13","vote_count":"2","rebel_count":"2"},{"date":"2014-11-18","vote_count":"1","rebel_count":"1"},{"date":"2014-11-20","vote_count":"1","rebel_count":"1"},{"date":"2014-11-25","vote_count":"1","rebel_count":"1"},{"date":"2014-12-01","vote_count":"2","rebel_count":"2"},{"date":"2014-12-02","vote_count":"6","rebel_count":"8"},{"date":"2014-12-04","vote_count":"1","rebel_count":"1"},{"date":"2014-12-05","vote_count":"2","rebel_count":"2"},{"date":"2014-12-08","vote_count":"9","rebel_count":"25"},{"date":"2014-12-09","vote_count":"9","rebel_count":"14"},{"date":"2014-12-10","vote_count":"2","rebel_count":"4"},{"date":"2014-12-11","vote_count":"5","rebel_count":"7"},{"date":"2014-12-12","vote_count":"4","rebel_count":"5"}];
    var voteCounts  = {"1255298400":2,"1258412400":1,"1259103600":7,"1259794800":3,"1260140400":1,"1260226800":25,"1260313200":9,"1260399600":5,"1260745200":3,"1260831600":2,"1261004400":2,"1265238000":2,"1265842800":8,"1266447600":5,"1267484400":6,"1267743600":7,"1268089200":6,"1268262000":5,"1268866800":1,"1268953200":8,"1269212400":2,"1269298800":7,"1269471600":10,"1271628000":4,"1271714400":5,"1272319200":1,"1272492000":4,"1272924000":7,"1273096800":1,"1273442400":5,"1273528800":10,"1274738400":6,"1274911200":12,"1275516000":2,"1275861600":10,"1275948000":3,"1276034400":2,"1276120800":18,"1276207200":3,"1276466400":8,"1276552800":13,"1276639200":4,"1276725600":9,"1276812000":9,"1286143200":3,"1288216800":5,"1288303200":5,"1289430000":3,"1289516400":2,"1290034800":1,"1290121200":3,"1290466800":4,"1290726000":4,"1291071600":3,"1291244400":7,"1291330800":1,"1291590000":3,"1291676400":4,"1291762800":5,"1291849200":6,"1291935600":3,"1292194800":9,"1292281200":3,"1292367600":4,"1292454000":6,"1292540400":5,"1296514800":2,"1297119600":2,"1297292400":4,"1297724400":1,"1298329200":3,"1298502000":7,"1299711600":7,"1300057200":5,"1300143600":4,"1300662000":1,"1300748400":3,"1301263200":1,"1301868000":6,"1301954400":9,"1302472800":4,"1302559200":7,"1302732000":16,"1303768800":8,"1304287200":7,"1305756000":3,"1306101600":6,"1306360800":1,"1306706400":2,"1306792800":5,"1307311200":3,"1307397600":6,"1307484000":9,"1307570400":8,"1308002400":13,"1308088800":10,"1308175200":10,"1308261600":11,"1320879600":3,"1320966000":2,"1321570800":1,"1322175600":7,"1322434800":3,"1322521200":2,"1322694000":6,"1322780400":2,"1323039600":2,"1323126000":4,"1323212400":1,"1323298800":2,"1323385200":2,"1323644400":6,"1323730800":4,"1323817200":3,"1323903600":7,"1323990000":5,"1324249200":1,"1324335600":5,"1326150000":2,"1326322800":1,"1327964400":5,"1328569200":5,"1329346800":3,"1330383600":2,"1330556400":9,"1331161200":2,"1332111600":3,"1332198000":8,"1332370800":6,"1332712800":2,"1332972000":2,"1334181600":2,"1334527200":1,"1335996000":9,"1336341600":4,"1336428000":2,"1336600800":7,"1337032800":6,"1337551200":5,"1337637600":1,"1337810400":3,"1338242400":2,"1338415200":9,"1338760800":10,"1338847200":3,"1339020000":7,"1339365600":6,"1339452000":12,"1339538400":6,"1339624800":12,"1339711200":3,"1349388000":2,"1349906400":1,"1350338400":2,"1351116000":5,"1352329200":3,"1352934000":2,"1353366000":6,"1353538800":1,"1353970800":3,"1354143600":5,"1354230000":3,"1354575600":4,"1354662000":1,"1354748400":14,"1354834800":3,"1355094000":7,"1355180400":3,"1355266800":4,"1355353200":5,"1355439600":1,"1355698800":7,"1355785200":4,"1358809200":9,"1360191600":2,"1360623600":11,"1361228400":10,"1362610800":2,"1363561200":1,"1363647600":8,"1363820400":12,"1364853600":1,"1365026400":1,"1366063200":4,"1366668000":7,"1367186400":4,"1367272800":1,"1367877600":2,"1368482400":1,"1369087200":2,"1369605600":15,"1369692000":6,"1369864800":3,"1370210400":5,"1370296800":13,"1370469600":12,"1370556000":2,"1370815200":25,"1371074400":12,"1371160800":4,"1371420000":17,"1371506400":10,"1371592800":13,"1371679200":17,"1371765600":4,"1385420400":1,"1386111600":1,"1386198000":3,"1386284400":1,"1386543600":1,"1386630000":2,"1386802800":2,"1386889200":1,"1387407600":2,"1393282800":1,"1393455600":2,"1395097200":1,"1395702000":1,"1397080800":1,"1398290400":1,"1399327200":5,"1399500000":1,"1399932000":17,"1400536800":1,"1400709600":2,"1401141600":2,"1401746400":2,"1401919200":3,"1402351200":4,"1402524000":6,"1402610400":2,"1402869600":9,"1402956000":1,"1403042400":4,"1403128800":5,"1403215200":2,"1415660400":1,"1415833200":2,"1416265200":1,"1416438000":1,"1416870000":1,"1417388400":2,"1417474800":6,"1417647600":1,"1417734000":2,"1417993200":9,"1418079600":9,"1418166000":2,"1418252400":5,"1418338800":4};
    var rebelCounts = {"1255298400":2,"1258412400":1,"1259103600":12,"1259794800":7,"1260140400":2,"1260226800":27,"1260313200":10,"1260399600":6,"1260745200":4,"1260831600":2,"1261004400":3,"1265238000":4,"1265842800":12,"1266447600":10,"1267484400":14,"1267743600":7,"1268089200":32,"1268262000":9,"1268866800":4,"1268953200":10,"1269212400":3,"1269298800":23,"1269471600":12,"1271628000":4,"1271714400":22,"1272319200":1,"1272492000":10,"1272924000":10,"1273096800":1,"1273442400":23,"1273528800":19,"1274738400":11,"1274911200":24,"1275516000":2,"1275861600":12,"1275948000":3,"1276034400":2,"1276120800":29,"1276207200":6,"1276466400":17,"1276552800":32,"1276639200":7,"1276725600":11,"1276812000":14,"1286143200":4,"1288216800":12,"1288303200":5,"1289430000":15,"1289516400":6,"1290034800":1,"1290121200":5,"1290466800":8,"1290726000":5,"1291071600":5,"1291244400":10,"1291330800":1,"1291590000":4,"1291676400":5,"1291762800":9,"1291849200":7,"1291935600":3,"1292194800":19,"1292281200":5,"1292367600":5,"1292454000":8,"1292540400":8,"1296514800":8,"1297119600":2,"1297292400":12,"1297724400":2,"1298329200":6,"1298502000":10,"1299711600":21,"1300057200":6,"1300143600":8,"1300662000":1,"1300748400":3,"1301263200":1,"1301868000":29,"1301954400":14,"1302472800":9,"1302559200":20,"1302732000":28,"1303768800":16,"1304287200":7,"1305756000":5,"1306101600":7,"1306360800":1,"1306706400":2,"1306792800":13,"1307311200":6,"1307397600":8,"1307484000":20,"1307570400":12,"1308002400":24,"1308088800":12,"1308175200":14,"1308261600":21,"1320879600":4,"1320966000":2,"1321570800":2,"1322175600":12,"1322434800":4,"1322521200":2,"1322694000":9,"1322780400":4,"1323039600":3,"1323126000":4,"1323212400":2,"1323298800":2,"1323385200":2,"1323644400":8,"1323730800":4,"1323817200":6,"1323903600":17,"1323990000":7,"1324249200":1,"1324335600":5,"1326150000":4,"1326322800":1,"1327964400":5,"1328569200":54,"1329346800":6,"1330383600":2,"1330556400":10,"1331161200":3,"1332111600":7,"1332198000":11,"1332370800":9,"1332712800":2,"1332972000":4,"1334181600":3,"1334527200":4,"1335996000":16,"1336341600":12,"1336428000":3,"1336600800":10,"1337032800":11,"1337551200":7,"1337637600":1,"1337810400":4,"1338242400":2,"1338415200":14,"1338760800":27,"1338847200":4,"1339020000":8,"1339365600":13,"1339452000":17,"1339538400":6,"1339624800":23,"1339711200":3,"1349388000":2,"1349906400":1,"1350338400":2,"1351116000":8,"1352329200":7,"1352934000":2,"1353366000":6,"1353538800":1,"1353970800":3,"1354143600":7,"1354230000":4,"1354575600":4,"1354662000":1,"1354748400":28,"1354834800":5,"1355094000":9,"1355180400":3,"1355266800":6,"1355353200":8,"1355439600":1,"1355698800":16,"1355785200":6,"1358809200":12,"1360191600":2,"1360623600":32,"1361228400":16,"1362610800":5,"1363561200":1,"1363647600":31,"1363820400":17,"1364853600":1,"1365026400":1,"1366063200":6,"1366668000":12,"1367186400":8,"1367272800":2,"1367877600":2,"1368482400":3,"1369087200":2,"1369605600":20,"1369692000":8,"1369864800":4,"1370210400":7,"1370296800":14,"1370469600":14,"1370556000":5,"1370815200":38,"1371074400":20,"1371160800":4,"1371420000":20,"1371506400":12,"1371592800":14,"1371679200":31,"1371765600":5,"1385420400":1,"1386111600":1,"1386198000":3,"1386284400":2,"1386543600":2,"1386630000":3,"1386802800":6,"1386889200":1,"1387407600":4,"1393282800":2,"1393455600":5,"1395097200":1,"1395702000":2,"1397080800":1,"1398290400":3,"1399327200":12,"1399500000":1,"1399932000":30,"1400536800":1,"1400709600":2,"1401141600":3,"1401746400":2,"1401919200":4,"1402351200":4,"1402524000":15,"1402610400":3,"1402869600":11,"1402956000":1,"1403042400":6,"1403128800":8,"1403215200":2,"1415660400":1,"1415833200":2,"1416265200":1,"1416438000":1,"1416870000":1,"1417388400":2,"1417474800":8,"1417647600":1,"1417734000":2,"1417993200":25,"1418079600":14,"1418166000":4,"1418252400":7,"1418338800":5};

    function heatmap() {
        cal = new CalHeatMap();
        cal.init({
            itemSelector: '#nar-stemmes-det-pa-stortinget-calendar',
            domain: 'year',
            subDomain: 'day',
            start: new Date(2009, 0, 1),
            minDate: new Date(2009, 0, 1),
            maxDate: new Date(2014, 11, 1),
            data: voteCounts,
            range: 6,
            verticalOrientation: true,
            tooltip: true,
            label: { position: 'top' },
            colLimit: 52,
            subDomainDateFormat: function (date) { return moment(date).format('ll'); },
            itemName: ['avstemning', 'avstemninger'],
            subDomainTitleFormat: {filled: '{date}: {count} {name}'}
        });

        var select = d3.select('#nar-stemmes-det-pa-stortinget-calendar-select');
        select.on('change', function () {
            if (d3.event.target.value === 'Avstemninger') {
                cal.options.itemName = ['avstemning', 'avstemninger'];
                cal.update(voteCounts);
            } else {
                cal.options.itemName = ['utbryterstemme', 'utbryterstemmer'];
                cal.update(rebelCounts);
            }
        });
    }

    function scatter() {
        var chart = c3.generate({
            bindto: '#nar-stemmes-det-pa-stortinget-scatter',
            data: {
                xs: {
                    Avstemninger: 'Utbryterstemmer'
                },
                columns: [
                    ['Avstemninger', 2,1,7,3,1,25,9,5,3,2,2,2,8,5,6,7,6,5,1,8,2,7,10,4,5,1,4,7,1,5,10,6,12,2,10,3,2,18,3,8,13,4,9,9,3,5,5,3,2,1,3,4,4,3,7,1,3,4,5,6,3,9,3,4,6,5,2,2,4,1,3,7,7,5,4,1,3,1,6,9,4,7,16,8,7,3,6,1,2,5,3,6,9,8,13,10,10,11,3,2,1,7,3,2,6,2,2,4,1,2,2,6,4,3,7,5,1,5,2,1,5,5,3,2,9,2,3,8,6,2,2,2,1,9,4,2,7,6,5,1,3,2,9,10,3,7,6,12,6,12,3,2,1,2,5,3,2,6,1,3,5,3,4,1,14,3,7,3,4,5,1,7,4,9,2,11,10,2,1,8,12,1,1,4,7,4,1,2,1,2,15,6,3,5,13,12,2,25,12,4,17,10,13,17,4,1,1,3,1,1,2,2,1,2,1,2,1,1,1,1,5,1,17,1,2,2,2,3,4,6,2,9,1,4,5,2,1,2,1,1,1,2,6,1,2,9,9,2,5,4],
                    ['Utbryterstemmer', 2,1,12,7,2,27,10,6,4,2,3,4,12,10,14,7,32,9,4,10,3,23,12,4,22,1,10,10,1,23,19,11,24,2,12,3,2,29,6,17,32,7,11,14,4,12,5,15,6,1,5,8,5,5,10,1,4,5,9,7,3,19,5,5,8,8,8,2,12,2,6,10,21,6,8,1,3,1,29,14,9,20,28,16,7,5,7,1,2,13,6,8,20,12,24,12,14,21,4,2,2,12,4,2,9,4,3,4,2,2,2,8,4,6,17,7,1,5,4,1,5,54,6,2,10,3,7,11,9,2,4,3,4,16,12,3,10,11,7,1,4,2,14,27,4,8,13,17,6,23,3,2,1,2,8,7,2,6,1,3,7,4,4,1,28,5,9,3,6,8,1,16,6,12,2,32,16,5,1,31,17,1,1,6,12,8,2,2,3,2,20,8,4,7,14,14,5,38,20,4,20,12,14,31,5,1,1,3,2,2,3,6,1,4,2,5,1,2,1,3,12,1,30,1,2,3,2,4,4,15,3,11,1,6,8,2,1,2,1,1,1,2,8,1,2,25,14,4,7,5]
                ],
                type: 'scatter'
            },
            axis: {
                x: {
                    label: 'Utbryterstemmer',
                    tick: {
                        fit: false
                    }
                },
                y: {
                    label: 'Avstemninger'
                }
            },
            legend: { show: false },
            tooltip: {
                format: {
                    title: function (d) { return 'Utbryterstemmer: ' + d; },
                    value: function (value, ratio, id) { return value; }
                }
            }
        });
    }

    function hours() {
        var data = [["07",1],["08",28],["09",133],["10",135],["11",371],["12",383],["13",407],["14",467],["15",318],["16",488],["17",382],["18",546],["19",496],["20",452],["21",251],["22",433],["23",190], ["24",80], ["01",0],["02",0],["03",0],["04",0],["05",0],["06",0]];

        var chart = c3.generate({
            bindto: '#nar-stemmes-det-pa-stortinget-hours',
            data: {
                x: 'Time på døgnet',
                columns: [
                    ['Time på døgnet'].concat(data.map(function (e) { return e[0]; })),
                    ['Antall avstemninger'].concat(data.map(function (e) { return e[1]; }))
                ],
                type: 'bar'

            },
            axis: {
                x: { type: 'category' }
            }
        });
    }

    function dayCounts() {
        var days = [["2009-2010", 67], ["2010-2011", 72], ["2011-2012", 71], ["2012-2013", 65], ["2013-2014", 57]];
        var votes = [["2009-2010", 947], ["2010-2011", 1196], ["2011-2012", 1032], ["2012-2013", 1453], ["2013-2014", 657]];

        var chart = c3.generate({
            bindto: '#nar-stemmes-det-pa-stortinget-day-counts',
            data: {
                x: 'Stortingssesjon',
                columns: [
                    ['Stortingssesjon'].concat(days.map(function (e) { return e[0]; })),
                    ['Antall dager med avstemninger'].concat(days.map(function (e) { return e[1]; })),
                    ['Antall avstemninger'].concat(votes.map(function (e) { return e[1]; }))
                ],
                type: 'spline',
                axes: {
                    'Antall dager med avstemninger': 'y',
                    'Antall avstemninger': 'y2'
                }

            },
            axis: {
                rotated: false,
                x: { type: 'category' },
                y: { min: 0},
                y2: { show: true, min: 0 }
            },
            point: { show: false}
        });
    }

    heatmap('votes');
    dayCounts();
    hours();
    scatter();

}());

